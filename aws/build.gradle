task copyApiHandler(type: Copy) {
    dependsOn "api-handler:build"
    from file("api-handler/build/dist/lambda.zip")
    into "module/lambdas"
    rename { "api-handler.zip" }
}

task copyMonitor(type: Copy) {
    dependsOn "monitor:build"
    from file("monitor/build/dist/lambda.zip")
    into "module/lambdas"
    rename { "monitor.zip" }
}

task copyWorker(type: Copy) {
    dependsOn "worker:build"
    from file("worker/build/dist/lambda.zip")
    into "module/lambdas"
    rename { "worker.zip" }
}

task build {
    dependsOn copyApiHandler
    dependsOn copyMonitor
    dependsOn copyWorker
}
